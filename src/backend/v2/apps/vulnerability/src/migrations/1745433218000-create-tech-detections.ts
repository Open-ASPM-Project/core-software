import { MigrationInterface, QueryRunner } from 'typeorm';

export class CreateTechDetections1745433218000 implements MigrationInterface {

  name = 'CreateTechDetections1745433218000';

  public async up(queryRunner: QueryRunner): Promise<void> {
    await queryRunner.query(`
      CREATE TABLE "tech_detections" (
        "uuid" uuid PRIMARY KEY DEFAULT uuid_generate_v4(),
        "assetId" varchar NOT NULL,
        "assetName" varchar NOT NULL,
        "assetType" varchar NOT NULL,
        "name" varchar NOT NULL,
        "metadata" jsonb,
        "description" text,
        "tags" text[] DEFAULT '{}',
        "extraInfo" jsonb,
        "createdAt" timestamp DEFAULT CURRENT_TIMESTAMP,
        "updatedAt" timestamp DEFAULT CURRENT_TIMESTAMP
      );
    `);
  }

  public async down(queryRunner: QueryRunner): Promise<void> {
    await queryRunner.query(`DROP TABLE "tech_detections";`);
  }
} 